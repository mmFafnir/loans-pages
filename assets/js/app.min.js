(()=>{"use strict";(()=>{class t{constructor(t){this.title=t.querySelector(".accordion-item__title")||t.querySelector(".acc-title"),this.body=t.querySelector(".accordion-item__body")||t.querySelector(".acc-body"),this.init()}init(){if(this.title.querySelector("input")){const t=this.title.querySelector("input"),e=this.title.querySelector(".icon");return t.addEventListener("focus",(()=>{this._openClickHandler()})),void e.addEventListener("click",(()=>{this._toggleClickHandler()}))}this.title.addEventListener("click",(()=>{console.log("w"),this._toggleClickHandler()}))}_toggleClickHandler(){this.title.classList.toggle("active"),this.body.classList.toggle("active"),this.openBody()}_openClickHandler(t,e){this.title.classList.add("active"),this.body.classList.add("active"),this.openBody()}openBody(){this.body.classList.contains("active")?this.body.style.height=this.body.children[0].clientHeight+"px":this.body.style.height="0px"}}const e=document.querySelectorAll(".accordion-item");e.length>0&&e.forEach((e=>{console.log(e),new t(e)}));const i=document.querySelector(".our-products-slider .swiper");i&&new class{constructor(t){this.element=t,this._initSwiper()}_initSwiper(){this.swiper=new Swiper(".our-products-slider .swiper",{direction:"horizontal",effect:"fade",parallax:!0,spaceBetween:60,grabCursor:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}),this._slidesNumber()}_slidesNumber(){const t=this.element.querySelectorAll(".swiper-slide");t.forEach(((e,i)=>{const s=e.querySelector(".swiper-slide__num");s&&(console.log(s),s.innerHTML=i+1+"/"+t.length)}))}}(i);class s{constructor(t){this.slider=t.querySelector(".customrange"),this.inputText=t.querySelector("input[type=number]"),this.thumb=t.querySelector(".range-sliderthumb"),this.sliderValue=t.querySelector(".slidervalue"),this.notify=t.querySelector(".notify"),this.min=Number(this.slider.getAttribute("min")),this.max=Number(this.slider.getAttribute("max")),this.value=this.slider.dataset.start?Number(this.slider.dataset.start):0,this._init()}_init(){this.slider.addEventListener("input",(t=>this._updateSlider())),this.inputText.addEventListener("input",(t=>this._updateInputText(t.target.value))),this._updateSlider()}_updateSlider(){this.value=this.slider.value;let t=(this.value-this.min)/(this.max-this.min)*100;this._setThumb(t),this._setValueInput(this.value),this._validationInputText(this.value)}_updateInputText(t){if(console.log(t),0==t[0])return this.inputText.value=this.value;if(this._validationInputText(t),t>this.max)return void(this.inputText.value=this.value);t<this.min?this.value=this.min:this.value=t;let e=(this.value-this.min)/(this.max-this.min)*100;this._setThumb(e)}_validationInputText(t){t<this.min?this.notify.classList.add("show"):this.notify.classList.remove("show")}_setThumb(t){let e=`calc(${t}% - ${parseInt(20)/2}px)`;this.thumb.style.left=e;let i=`rotate(${t/100*360}deg) translateY(-50%)`;this.thumb.style.transform=i}_setValueInput(t){this.inputText&&(this.inputText.value=Number(t))}}window.onload=()=>{const t=document.querySelectorAll(".range");t.length>0&&t.forEach((t=>{new s(t)}))};const l=()=>{var t=document.createElement("p");t.style.width="100%",t.style.height="200px";var e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.visibility="hidden",e.style.width="200px",e.style.height="150px",e.style.overflow="hidden",e.appendChild(t),document.body.appendChild(e);var i=t.offsetWidth;e.style.overflow="scroll";var s=t.offsetWidth;return i==s&&(s=e.clientWidth),document.body.removeChild(e),i-s},o=document.querySelectorAll(".modal"),n=document.querySelectorAll('a[href*="#modal/"]');o.length>0&&o.forEach((t=>{const e=Array.from(n).find((e=>t.id===e.hash.replace("#modal/","")));t.addEventListener("click",(e=>{const i=e.target;(i.closest(".modal-close")||i.classList.contains("modal"))&&(t.classList.remove("show"),document.body.classList.remove("lock"),document.body.removeAttribute("style"),t.removeAttribute("style"),document.querySelector(".modal-link-active")?.classList.remove("modal-link-active"))})),e.addEventListener("click",(i=>{i.preventDefault(),document.querySelector(".modal.show")?.classList.remove("show"),document.querySelector(".modal-link-active")?.classList.remove("modal-link-active"),t.classList.toggle("show"),e.classList.toggle("modal-link-active"),t.classList.contains("show")?(window.history.pushState("",document.title,window.location.href.replace(/\#(.+)/,"").replace(/http(s?)\:\/\/([^\/]+)/,"")),document.body.classList.add("lock"),document.body.style.paddingRight=l()+"px",t.style.paddingRight=l()+"px"):(document.body.classList.remove("lock"),document.body.removeAttribute("style"),t.removeAttribute("style"))}))})),document.addEventListener("keyup",(t=>{"Escape"===t.key&&o.forEach((t=>{t.classList.remove("show"),document.body.classList.remove("lock"),document.body.removeAttribute("style"),t.removeAttribute("style"),document.querySelector(".modal-link-active")?.classList.remove("modal-link-active")}))}));class r{constructor(t){this.element=t,this.title=this.element.querySelector(".cities-select__title"),this.body=this.element.querySelector(".cities-select__body"),this.searchInput=this.title.querySelector("input"),this.citiesList=this.body.querySelectorAll("input"),this.init()}init(){this.accordion=new t(this.element),this._changeCite(),this._searchCite()}_searchCite(){const t=document.createElement("p");t.classList.add("empty"),t.innerText="Ничего не найдено :(",this.searchInput.addEventListener("input",(e=>{let i=[];const s=e.target.value.toLowerCase();this.citiesList.forEach((t=>{if(0===s.trim().length)return t.parentElement.style.display="flex",void i.push(t);t.value.toLowerCase().includes(s.trim())?(t.parentElement.style.display="flex",i.push(t)):(t.parentElement.style.display="none",i.filter((e=>e!==t)))})),0===i.length?this.body.children[0]?.insertAdjacentElement("beforeend",t):t.remove(),setTimeout((()=>{this.accordion.openBody()}),100)}))}_changeCite(){this.citiesList.forEach((t=>{t.checked&&(this.searchInput.value=t.previousElementSibling.textContent),t.addEventListener("input",(()=>{t.checked&&(this.searchInput.value=t.previousElementSibling.textContent)}))}))}}const a=document.querySelectorAll(".cities-select");a.length>0&&a.forEach((t=>{new r(t)}));class c{constructor(t){this.adaptive=!1,this.div=t,this.parent=this.div.parentElement,this.toDiv=document.querySelector(this.div.dataset.to),this.pos=this.div.dataset.pos,this.maxWidth=Number(this.div.dataset.width),this.resize()}resize(){console.log(this.maxWidth),this.maxWidth>=window.innerWidth?this.adaptive||(this.changePosDiv(this.toDiv,this.pos,this.div),this.adaptive=!0):this.adaptive&&(this.changePosDiv(this.parent,"beforeend",this.div),this.adaptive=!1)}changePosDiv(t,e,i){t.insertAdjacentElement(e,i)}}const d=document.querySelectorAll(".adaptive-block"),h=[];d.length>0&&d.forEach((t=>{const e=new c(t);h.push(e)})),window.addEventListener("resize",(()=>{h.length>0&&h.forEach((t=>{t.resize()})),document.querySelector(".modal.show")?.classList.remove("show"),document.querySelector(".modal-link-active")?.classList.remove("modal-link-active"),document.body.classList.remove("lock")}))})(),console.log("asd")})();